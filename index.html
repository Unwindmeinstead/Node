<!DOCTYPE html>
<!-- 
Code Structure Overview:
index.html
‚îÇ
‚îú‚îÄ‚îÄ <head>
‚îÇ   ‚îú‚îÄ‚îÄ <meta> tags
‚îÇ   ‚îú‚îÄ‚îÄ <title>
‚îÇ   ‚îú‚îÄ‚îÄ <link> (font imports)
‚îÇ   ‚îî‚îÄ‚îÄ <style>
‚îÇ       ‚îú‚îÄ‚îÄ Variables
‚îÇ       ‚îú‚îÄ‚îÄ General Styles
‚îÇ       ‚îú‚îÄ‚îÄ Card Styles
‚îÇ       ‚îú‚îÄ‚îÄ Input/UI Elements
‚îÇ       ‚îú‚îÄ‚îÄ Modal Styles
‚îÇ       ‚îú‚îÄ‚îÄ Settings Panel
‚îÇ       ‚îú‚îÄ‚îÄ Date Picker
‚îÇ       ‚îî‚îÄ‚îÄ Animations
‚îÇ
‚îú‚îÄ‚îÄ <body>
‚îÇ   ‚îú‚îÄ‚îÄ Settings Button
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ Settings Modal
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Settings Sidebar
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Settings Panels
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Cards Panel
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Display Panel
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Developer Panel
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Calendar Panel 
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ About Panel
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ App Info
‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ Knowledge Base
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ Pill Bar (Main Input)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Task Input
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Inline Category
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Mic Button
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ Card Area (Dynamic Content)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ Date Time Picker
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Header
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Calendar
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Time Picker
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Reminder Selector
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Action Buttons
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ <script>
‚îÇ       ‚îú‚îÄ‚îÄ Global Variables
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ Theme Settings
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ Card Settings
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ UI State Tracking
‚îÇ       ‚îÇ
‚îÇ       ‚îú‚îÄ‚îÄ Utility Functions
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ formatDateTime()
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ getCardColor()
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ getTextColorForBackground()
‚îÇ       ‚îÇ
‚îÇ       ‚îú‚îÄ‚îÄ Card Creation/Management
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ createCard()
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ setupCardDragging()
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ reindexCards()
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ updateCardStackPositions()
‚îÇ       ‚îÇ
‚îÇ       ‚îú‚îÄ‚îÄ Storage Management
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ saveCardsToStorage()
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ loadCardsFromStorage()
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ getHighestCardIndex()
‚îÇ       ‚îÇ
‚îÇ       ‚îú‚îÄ‚îÄ Text Analysis
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ determineCategory()
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ Pattern Recognition
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ Word Analysis
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ Context Analysis
‚îÇ       ‚îÇ       ‚îî‚îÄ‚îÄ Scoring System
‚îÇ       ‚îÇ
‚îÇ       ‚îú‚îÄ‚îÄ Date/Time Functionality
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ showDateTimePicker()
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ closeDateTimePicker()
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ initializeCalendar()
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ setDateTime()
‚îÇ       ‚îÇ
‚îÇ       ‚îî‚îÄ‚îÄ Event Listeners
‚îÇ           ‚îú‚îÄ‚îÄ DOMContentLoaded
‚îÇ           ‚îú‚îÄ‚îÄ Input Events
‚îÇ           ‚îú‚îÄ‚îÄ Button Click Handlers
‚îÇ           ‚îî‚îÄ‚îÄ Touch/Mouse Events
‚îî‚îÄ‚îÄ
-->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Node</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/voice.css">
</head>
<body>
</head>
<body class="dark-mode">
    <!-- Settings icon in top right corner -->
    <button class="settings-button">
        <svg class="settings-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"/>
        </svg>
    </button>

    <!-- Search icon below settings -->
    <button class="search-button">
        <svg class="search-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <circle cx="11" cy="11" r="8"></circle>
            <path d="m21 21-4.35-4.35"></path>
        </svg>
    </button>

    <!-- Organize button below search -->
    <button class="organize-button" title="Organize cards">
        <svg class="organize-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <rect x="3" y="3" width="7" height="7"></rect>
            <rect x="14" y="3" width="7" height="7"></rect>
            <rect x="3" y="14" width="7" height="7"></rect>
            <rect x="14" y="14" width="7" height="7"></rect>
        </svg>
    </button>

    <!-- Analytics panel for organize mode -->
    <div class="analytics-panel" id="analytics-panel" style="display: none;">
        <div class="analytics-header">
            <h3>üìä Card Analytics</h3>
            <div class="analytics-controls">
                <button class="collapse-analytics" id="collapse-analytics" title="Collapse/Expand">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <polyline points="18 15 12 9 6 15"></polyline>
                    </svg>
                </button>
                <button class="close-analytics">√ó</button>
            </div>
        </div>
        <div class="analytics-content">
            <div class="analytics-summary">
                <div class="stat-item">
                    <span class="stat-number" id="total-cards">0</span>
                    <span class="stat-label">Total Cards</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="completed-cards">0</span>
                    <span class="stat-label">Completed</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="pending-cards">0</span>
                    <span class="stat-label">Pending</span>
                </div>
            </div>
            <div class="analytics-breakdown" id="analytics-breakdown">
                <!-- Dynamic content will be inserted here -->
            </div>
        </div>
    </div>

    <!-- Search popup -->
    <div class="search-popup" id="search-popup" style="display: none;">
        <div class="search-bar-wrapper">
            <input type="text" class="search-input" placeholder="Search cards...">
            <button class="filter-btn" id="filter-btn" title="Filter options">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>
                </svg>
            </button>
        </div>
        
        <!-- Filter dropdown -->
        <div class="filter-dropdown" id="filter-dropdown" style="display: none;">
            <div class="filter-section">
                <h4>Status</h4>
                <label><input type="checkbox" class="filter-checkbox" data-filter="completed"> Completed</label>
                <label><input type="checkbox" class="filter-checkbox" data-filter="pending"> Pending</label>
            </div>
            
            <div class="filter-section">
                <h4>Category</h4>
                <label><input type="checkbox" class="filter-checkbox" data-filter="task"> Task</label>
                <label><input type="checkbox" class="filter-checkbox" data-filter="project"> Project</label>
                <label><input type="checkbox" class="filter-checkbox" data-filter="note"> Note</label>
                <label><input type="checkbox" class="filter-checkbox" data-filter="reminder"> Reminder</label>
            </div>
            
            <div class="filter-section">
                <h4>Date</h4>
                <label><input type="checkbox" class="filter-checkbox" data-filter="today"> Created Today</label>
                <label><input type="checkbox" class="filter-checkbox" data-filter="this-week"> This Week</label>
                <label><input type="checkbox" class="filter-checkbox" data-filter="this-month"> This Month</label>
            </div>
            
            <div class="filter-actions">
                <button class="clear-filters-btn">Clear All</button>
                <button class="apply-filters-btn">Apply Filters</button>
            </div>
        </div>
        
        <div class="search-results" id="search-results" style="display: none;">
            <div class="search-results-header">
                <span class="results-count">0 cards found</span>
            </div>
            <div class="search-results-list"></div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="settings-modal">
        <div class="settings-content">
            <!-- Close X button -->
            <button class="settings-close-x" id="settings-close-x">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
            <!-- Two-column layout -->
            <div class="settings-sidebar">
                <div class="settings-logo">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"></circle>
                        <path d="M12 16V12"></path>
                        <path d="M12 8h.01"></path>
                    </svg>
                    <span>Settings</span>
                </div>
                <nav class="settings-nav">
                    <button class="nav-item active" data-target="appearance">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="3"></circle>
                            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                        </svg>
                        <span>Appearance</span>
                    </button>
                    <button class="nav-item" data-target="data">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                            <line x1="16" y1="13" x2="8" y2="13"></line>
                            <line x1="16" y1="17" x2="8" y2="17"></line>
                            <polyline points="10 9 9 9 8 9"></polyline>
                        </svg>
                        <span>Data Management</span>
                    </button>
                    <button class="nav-item" data-target="cards">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="3" y1="9" x2="21" y2="9"></line>
                            <line x1="9" y1="21" x2="9" y2="9"></line>
                        </svg>
                        <span>Cards</span>
                    </button>
                    <button class="nav-item" data-target="about">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="16" x2="12" y2="12"></line>
                            <line x1="12" y1="8" x2="12.01" y2="8"></line>
                        </svg>
                        <span>About</span>
                    </button>
                </nav>
                <div class="settings-footer">
                    <!-- Close button removed -->
                </div>
            </div>
            
            <div class="settings-main">
                <div class="settings-panel active" id="appearance-panel">
                    <h2>Appearance</h2>
                    <div class="setting-group">
                        <h3>Theme</h3>
                        <p class="setting-description">Choose between dark and light mode for the application.</p>
                        <div class="theme-options">
                            <button id="dark-mode-btn" class="theme-option active">
                                <div class="option-preview dark">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                                    </svg>
                                </div>
                                <span>Dark Mode</span>
                            </button>
                            <button id="light-mode-btn" class="theme-option">
                                <div class="option-preview light">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <circle cx="12" cy="12" r="5"></circle>
                                        <line x1="12" y1="1" x2="12" y2="3"></line>
                                        <line x1="12" y1="21" x2="12" y2="23"></line>
                                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                                        <line x1="1" y1="12" x2="3" y2="12"></line>
                                        <line x1="21" y1="12" x2="23" y2="12"></line>
                                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                                    </svg>
                                </div>
                                <span>Light Mode</span>
                            </button>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <h3>Card Display</h3>
                        <p class="setting-description">Choose how cards appear when first created.</p>
                        <div class="checkbox-container">
                            <input type="checkbox" id="collapse-new-cards" class="settings-checkbox">
                            <label for="collapse-new-cards">Collapse new cards by default</label>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <h3>Confirmation Dialogs</h3>
                        <p class="setting-description">Control when confirmation dialogs appear.</p>
                        <div class="checkbox-container">
                            <input type="checkbox" id="confirm-delete-cards" class="settings-checkbox" checked>
                            <label for="confirm-delete-cards">Confirm before deleting cards</label>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <h3>Font Size</h3>
                        <p class="setting-description">Adjust the text size throughout the application.</p>
                        <div class="slider-container">
                            <span class="slider-label">A</span>
                            <input type="range" min="80" max="120" value="100" class="slider" id="font-size-slider">
                            <span class="slider-label">A</span>
                        </div>
                        <div class="slider-value">100%</div>
                    </div>
                </div>
                
                <div class="settings-panel" id="data-panel">
                    <h2>Data Management</h2>
                    <div class="setting-group">
                        <h3>Export & Import</h3>
                        <p class="setting-description">Backup your cards data or restore from a previous backup.</p>
                        <div class="button-row">
                            <button class="setting-button" id="export-data">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                    <polyline points="7 10 12 15 17 10"></polyline>
                                    <line x1="12" y1="15" x2="12" y2="3"></line>
                                </svg>
                                Export All Data
                            </button>
                            <button class="setting-button" id="import-data">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                    <polyline points="17 8 12 3 7 8"></polyline>
                                    <line x1="12" y1="3" x2="12" y2="15"></line>
                                </svg>
                                Import Data
                            </button>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <h3>Clear Data</h3>
                        <p class="setting-description">Remove all saved cards and settings. This action cannot be undone.</p>
                        <button class="setting-button warning" id="clear-data">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="3 6 5 6 21 6"></polyline>
                                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                <line x1="10" y1="11" x2="10" y2="17"></line>
                                <line x1="14" y1="11" x2="14" y2="17"></line>
                            </svg>
                            Clear All Data
                        </button>
                    </div>
                </div>
                
                <div class="settings-panel" id="cards-panel">
                    <h2>Cards</h2>
                    <div class="setting-group">
                        <h3>Stack Size</h3>
                        <p class="setting-description">Set the maximum number of cards visible in the stack.</p>
                        <div class="select-container">
                            <select id="max-cards-setting" class="settings-select">
                                <option value="5">5 cards</option>
                                <option value="10" selected>10 cards</option>
                                <option value="15">15 cards</option>
                                <option value="20">20 cards</option>
                                <option value="50">50 cards</option>
                                <option value="100">100 cards</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <h3>Card Appearance</h3>
                        <p class="setting-description">Customize how your cards look.</p>
                        <div class="checkbox-container">
                            <input type="checkbox" id="show-timestamps" class="settings-checkbox" checked>
                            <label for="show-timestamps">Show timestamps on cards</label>
                        </div>
                        <div class="checkbox-container">
                            <input type="checkbox" id="show-categories" class="settings-checkbox" checked>
                            <label for="show-categories">Show categories on cards</label>
                        </div>
                        <div class="checkbox-container">
                            <input type="checkbox" id="show-completed-cards" class="settings-checkbox" checked>
                            <label for="show-completed-cards">Show completed cards section</label>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <h3>Calendar Integration</h3>
                        <p class="setting-description">Connect with calendar services to sync your reminders and events.</p>
                        <div class="calendar-connect-options">
                            <button class="connect-calendar-btn" data-provider="google">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                    <line x1="16" y1="2" x2="16" y2="6"></line>
                                    <line x1="8" y1="2" x2="8" y2="6"></line>
                                    <line x1="3" y1="10" x2="21" y2="10"></line>
                                </svg>
                                Connect Google Calendar
                            </button>
                            <button class="connect-calendar-btn" data-provider="apple">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                    <line x1="16" y1="2" x2="16" y2="6"></line>
                                    <line x1="8" y1="2" x2="8" y2="6"></line>
                                    <line x1="3" y1="10" x2="21" y2="10"></line>
                                </svg>
                                Connect Apple Calendar
                            </button>
                        </div>
                        <div class="calendar-sync-options">
                            <div class="checkbox-container">
                                <input type="checkbox" id="sync-reminders" class="settings-checkbox" checked disabled>
                                <label for="sync-reminders">Sync reminder cards to calendar</label>
                            </div>
                            <div class="checkbox-container">
                                <input type="checkbox" id="import-events" class="settings-checkbox" disabled>
                                <label for="import-events">Import calendar events as cards</label>
                            </div>
                            <p class="connect-notice">Connect a calendar service to enable these options</p>
                        </div>
                    </div>
                </div>
                
                <div class="settings-panel" id="about-panel">
                    <h2>About</h2>
                    <div class="setting-group">
                        <div class="about-app">
                            <div class="app-logo">
                                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                    <line x1="3" y1="9" x2="21" y2="9"></line>
                                    <line x1="9" y1="21" x2="9" y2="9"></line>
                                </svg>
                            </div>
                            <h3>Task Cards</h3>
                            <p class="version">Version 1.0.0</p>
                            <p class="about-description">A simple and elegant way to organize your tasks and thoughts. Task Cards uses intelligent text analysis to automatically categorize your entries, saving you time and mental effort while keeping everything neatly organized.</p>
                        </div>
                        
                        <div class="setting-group knowledge-base">
                            <h3>Knowledge Base</h3>
                            
                            <div class="kb-section">
                                <details>
                                    <summary>Getting Started</summary>
                                    <div class="kb-content">
                                        <h4>Welcome to Task Cards</h4>
                                        <p>Task Cards helps you organize your thoughts, tasks, ideas, and more using a flexible card-based system. Each card is automatically categorized based on what you type, making organization effortless.</p>
                                        
                                        <h5>Creating Your First Card</h5>
                                        <p>To create a card, simply type in the input bar at the bottom of the screen and press Enter. The app will automatically detect what type of content you're creating and categorize it appropriately.</p>
                                        
                                        <h5>Card Types</h5>
                                        <ul>
                                            <li><strong>Task:</strong> For actionable to-do items</li>
                                            <li><strong>Note:</strong> For general information and longer text</li>
                                            <li><strong>Idea:</strong> For creative thoughts and concepts</li>
                                            <li><strong>Reminder:</strong> For time-sensitive alerts</li>
                                            <li><strong>Meeting:</strong> For appointments and gatherings</li>
                                            <li><strong>Goal:</strong> For targets and objectives</li>
                                            <li><strong>Work:</strong> For job-related items</li>
                                            <li><strong>Travel:</strong> For journey/trip planning</li>
                                        </ul>
                                    </div>
                                </details>
                            </div>
                            
                            <div class="kb-section">
                                <details>
                                    <summary>Working with Cards</summary>
                                    <div class="kb-content">
                                        <h4>Card Interactions</h4>
                                        
                                        <h5>Moving Cards</h5>
                                        <p>Click and drag a card to position it anywhere on your screen. Double-click a card to return it to the stack.</p>
                                        
                                        <h5>Editing Cards</h5>
                                        <p>Click on the card title to edit it. For task cards, you can add steps by clicking the "Add step" button at the bottom of the card.</p>
                                        
                                        <h5>Card Controls</h5>
                                        <ul>
                                            <li><strong>Complete ‚úì:</strong> Mark a card as completed. Completed cards move to the completed section.</li>
                                            <li><strong>Collapse ‚ñ≤:</strong> Collapse or expand a card to save space.</li>
                                            <li><strong>Delete √ó:</strong> Remove a card permanently.</li>
                                        </ul>
                                        
                                        <h5>Changing Card Colors</h5>
                                        <p>Click the color dot in the bottom-left corner of a card to cycle through different color options.</p>
                                        
                                        <h5>Completing Cards</h5>
                                        <p>Click the checkmark icon in the card header to mark it as complete. Completed cards are moved to the completed cards section in the bottom-right corner of the screen. Click the same icon on a completed card to reopen it.</p>
                                    </div>
                                </details>
                            </div>
                            
                            <div class="kb-section">
                                <details>
                                    <summary>Completed Cards Section</summary>
                                    <div class="kb-content">
                                        <h4>Managing Completed Cards</h4>
                                        
                                        <h5>Completed Cards Container</h5>
                                        <p>When you mark cards as completed, they are moved to a dedicated "Completed Cards" section that appears in your workspace. This helps keep your active cards separate from completed ones.</p>
                                        
                                        <h5>Moving the Completed Section</h5>
                                        <p>The completed cards section is draggable! You can position it anywhere on your screen by clicking and dragging the section header or the dot grip handle. The position is saved and will be remembered between sessions.</p>
                                        
                                        <h5>Collapsing the Section</h5>
                                        <p>Click the collapse arrow in the completed cards section header to minimize the section while keeping the header visible. Click again to expand it.</p>
                                        
                                        <h5>Showing/Hiding the Section</h5>
                                        <p>You can completely hide the completed cards section through the Cards settings panel by unchecking "Show completed cards section". When hidden, completed cards are still stored but not displayed until you enable the setting again.</p>
                                        
                                        <h5>Reopening Completed Cards</h5>
                                        <p>To move a card back to the active workspace, click the checkmark icon on any completed card to reopen it. The card will return to the main stack.</p>
                                    </div>
                                </details>
                            </div>
                            
                            <div class="kb-section">
                                <details>
                                    <summary>Specialized Card Types</summary>
                                    <div class="kb-content">
                                        <h4>Card Type Features</h4>
                                        
                                        <h5>Task Cards</h5>
                                        <p>Task cards allow you to create checklists with multiple steps. Check off steps as you complete them.</p>
                                        
                                        <h5>Note Cards</h5>
                                        <p>Note cards provide a larger text area for longer content, perfect for storing information.</p>
                                        
                                        <h5>Reminder Cards</h5>
                                        <p>Reminders automatically extract dates and times from your text and highlight them. You can also manually add dates.</p>
                                        
                                        <h5>Idea Cards</h5>
                                        <p>Idea cards are designed for brainstorming with a focus on capturing creative thoughts.</p>
                                        
                                        <h5>Meeting Cards</h5>
                                        <p>Meeting cards help organize agenda items and meeting notes with bullet points.</p>
                                        
                                        <h5>Goal Cards</h5>
                                        <p>Goal cards are structured for tracking progress toward objectives with milestones.</p>
                                    </div>
                                </details>
                            </div>
                            
                            <div class="kb-section">
                                <details>
                                    <summary>Smart Features</summary>
                                    <div class="kb-content">
                                        <h4>Intelligent Card Creation</h4>
                                        <p>Task Cards uses natural language processing to automatically categorize your content:</p>
                                        
                                        <h5>Category Detection</h5>
                                        <p>As you type, the app analyzes your text and predicts what type of card it should be. You'll see the detected category appear in the input bar.</p>
                                        
                                        <h5>How Text Type Classification Works</h5>
                                        <p>Our intelligent text type identifier uses a multi-layered approach to determine the most appropriate category for your input:</p>
                                        
                                        <ul>
                                            <li><strong>Pattern Recognition:</strong> The system identifies specific text patterns like questions, bullet points, date formats, and more</li>
                                            <li><strong>Keyword Analysis:</strong> Each category has associated keywords and phrases that indicate its relevance</li>
                                            <li><strong>Context Evaluation:</strong> Beyond individual words, the system analyzes how words are used together</li>
                                            <li><strong>Sentence Structure:</strong> Grammatical patterns help determine if text is a command (Task), observation (Note), or aspiration (Goal)</li>
                                            <li><strong>Scoring System:</strong> Multiple factors are weighted together to determine the final category</li>
                                        </ul>
                                        
                                        <h5>Category Identifiers</h5>
                                        <p>The system recognizes these patterns for different categories:</p>
                                        
                                        <ul>
                                            <li><strong>Task:</strong> Action verbs, short phrases, imperatives, shopping terms, to-do formats</li>
                                            <li><strong>Work:</strong> Project terminology, business context, colleague references, deliverables</li>
                                            <li><strong>Travel:</strong> Destination references, transportation terms, accommodation words</li>
                                            <li><strong>Meeting:</strong> Meeting formats, attendee references, discussion terms</li>
                                            <li><strong>Reminder:</strong> Time/date references, deadline terminology, alert language</li>
                                            <li><strong>Idea:</strong> Questions, creative concepts, possibilities, considerations</li>
                                            <li><strong>Goal:</strong> Achievement language, future commitments, improvement terms</li>
                                            <li><strong>Note:</strong> Information capturing, longer text, documentation language</li>
                                        </ul>
                                        
                                        <p>For developers: You can enable detailed categorization analysis in the Developer settings panel to see how the system scores different category options for any input text.</p>
                                        
                                        <h5>Date & Time Recognition</h5>
                                        <p>When you include dates or times (like "tomorrow at 3pm"), the app will recognize these and format them appropriately for Reminder cards.</p>
                                        
                                        <h5>Question Detection</h5>
                                        <p>Text that ends with a question mark is typically categorized as an Idea, perfect for capturing questions you want to explore later.</p>
                                    </div>
                                </details>
                            </div>
                            
                            <div class="kb-section">
                                <details>
                                    <summary>Tips & Tricks</summary>
                                    <div class="kb-content">
                                        <h4>Power User Tips</h4>
                                        
                                        <h5>Keyboard Shortcuts</h5>
                                        <ul>
                                            <li><strong>Enter</strong> while typing: Create a new card</li>
                                            <li><strong>Escape</strong>: Close the settings modal</li>
                                            <li><strong>Double-click</strong> on a card: Return it to the stack</li>
                                        </ul>
                                        
                                        <h5>Organizing Your Workspace</h5>
                                        <p>Group related cards together by dragging them to similar areas of the screen. This creates visual "zones" for different projects or topics.</p>
                                        
                                        <h5>Completed Cards Management</h5>
                                        <p>For a cleaner workspace, use the draggable completed cards section to move completed items off to one side. If you're focusing on what's left to do, you can hide the completed section entirely from the Cards settings.</p>
                                        
                                        <h5>Card Format Tricks</h5>
                                        <ul>
                                            <li>Start with a bullet point to automatically create a Task card</li>
                                            <li>End with a question mark to create an Idea card</li>
                                            <li>Include dates/times to create a Reminder card</li>
                                            <li>Begin with "I want to..." to create a Goal card</li>
                                        </ul>
                                        
                                        <h5>Data Management</h5>
                                        <p>Regularly export your data (in the Data Management tab) to back up your cards. You can import this data on any device to keep your cards synchronized.</p>
                                    </div>
                                </details>
                            </div>
                            
                            <div class="kb-section">
                                <details>
                                    <summary>Customization</summary>
                                    <div class="kb-content">
                                        <h4>Personalizing Your Experience</h4>
                                        
                                        <h5>Theme Settings</h5>
                                        <p>Switch between Dark and Light mode in the Appearance tab to match your preference or lighting conditions.</p>
                                        
                                        <h5>Font Size</h5>
                                        <p>Adjust the font size slider to make text larger or smaller based on your comfort level and screen size.</p>
                                        
                                        <h5>Card Stack Size</h5>
                                        <p>Configure how many cards are visible in the stack at once in the Cards tab. This helps manage performance with larger collections.</p>
                                        
                                        <h5>Card Visibility Options</h5>
                                        <p>In the Cards settings panel, you can control several visibility options:</p>
                                        <ul>
                                            <li><strong>Show timestamps on cards:</strong> Toggle the visibility of the timestamp on each card</li>
                                            <li><strong>Show categories on cards:</strong> Toggle the visibility of the category tag on each card</li>
                                            <li><strong>Show completed cards section:</strong> Toggle the visibility of the entire completed cards section</li>
                                        </ul>
                                        
                                        <h5>Workspace Layout</h5>
                                        <p>Customize your workspace by dragging cards and the completed cards section to your preferred locations. All positions are saved between sessions.</p>
                                    </div>
                                </details>
                            </div>
                            
                            <div class="kb-section">
                                <details>
                                    <summary>Recent Updates & Features</summary>
                                    <div class="kb-content">
                                        <h4>Latest Improvements</h4>
                                        
                                        <h5>Card Styling Enhancements</h5>
                                        <p>We've made several visual improvements to enhance the dark theme experience:</p>
                                        <ul>
                                            <li><strong>White Text:</strong> Changed all text within cards to white for better visibility in dark mode</li>
                                            <li><strong>Dark Card Colors:</strong> Cards now use elegant shades of black by default, while maintaining color picker functionality</li>
                                            <li><strong>Icon Styling:</strong> Action buttons on cards have white backgrounds with dark icons for improved contrast</li>
                                        </ul>
                                        
                                        <h5>Core Features Overview</h5>
                                        <p>The application includes these powerful features:</p>
                                        <ul>
                                            <li><strong>Card Actions:</strong> Complete, flag for priority, add due dates, delete, and collapse cards</li>
                                            <li><strong>Time Management:</strong> Set reminders with 15-min, 30-min, and 1-hour advance options</li>
                                            <li><strong>Card Organization:</strong> Smart categorization of tasks with customizable display options</li>
                                            <li><strong>Theme Support:</strong> Full dark/light mode with personalized styling</li>
                                        </ul>
                                        
                                        <h5>Technical Improvements</h5>
                                        <ul>
                                            <li><strong>Color Palette:</strong> Expanded shades of black for cards while preserving color picker feature</li>
                                            <li><strong>Contrast Enhancement:</strong> Improved text and button visibility for better accessibility</li>
                                            <li><strong>Completed Task Styling:</strong> Special handling for completed tasks with intuitive visual cues</li>
                                        </ul>
                                    </div>
                                </details>
                            </div>
                        </div>
                        
                        <div class="setting-group">
                            <div class="credits">
                                <p>Created with ‚ù§Ô∏è</p>
                                <p class="copyright">¬© 2023 Task Cards</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Cards Container -->
    <div class="cards-container">
        <div class="cards-stack">
            <!-- Cards will be dynamically added here -->
        </div>
    </div>
    
    <!-- Completed Cards Section -->
    <div class="completed-cards-section">
        <div class="completed-section-header">
            <div class="drag-handle">
                <svg width="10" height="16" viewBox="0 0 10 16" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="2" cy="2" r="1" fill="currentColor" stroke="none"/>
                    <circle cx="8" cy="2" r="1" fill="currentColor" stroke="none"/>
                    <circle cx="2" cy="8" r="1" fill="currentColor" stroke="none"/>
                    <circle cx="8" cy="8" r="1" fill="currentColor" stroke="none"/>
                    <circle cx="2" cy="14" r="1" fill="currentColor" stroke="none"/>
                    <circle cx="8" cy="14" r="1" fill="currentColor" stroke="none"/>
                </svg>
            </div>
            <div class="completed-section-title">Completed Cards</div>
            <div class="completed-cards-count">0</div>
            <button class="collapse-completed-section">
                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="6 9 12 15 18 9"></polyline>
                </svg>
            </button>
        </div>
        <div class="completed-cards-container">
            <!-- Completed cards will be moved here -->
        </div>
    </div>

    <!-- Notification popup -->
    <div class="notification">
        <svg class="notification-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"/>
        </svg>
        <span class="notification-message">You've reached the maximum card limit of 50!</span>
    </div>

    <!-- Pill-shaped input bar -->
    <div class="pill-bar">
        <span class="inline-category"></span>
        <input type="text" class="task-input" placeholder="What are you getting done today?" autofocus>
        <button class="voice-btn" title="Voice input">
            <svg class="voice-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"/>
                <path d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"/>
            </svg>
        </button>
    </div>


    <!-- Load JavaScript files -->
    <script src="js/color_toggle.js"></script>
    <script src="js/makeDraggable.js"></script>
    <script src="js/flag_priority.js"></script>
    <script src="js/app.js"></script>
    <script src="js/voice.js"></script>
</body>
</html>
